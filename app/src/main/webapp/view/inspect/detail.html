 
 
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Fly Template v3.0，基于 layui 的极简社区页面模版</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="keywords" content="fly,layui,前端社区">
  <meta name="description" content="Fly社区是模块化前端UI框架Layui的官网社区，致力于为web开发提供强劲动力">
  <link rel="stylesheet" href="../../res/layui/css/layui.css">
  <link rel="stylesheet" href="../../res/css/global.css">
  <script type="text/javascript" src="../../res/layui/jquery.min.js" charset="utf-8"></script>
  <script type="text/javascript" src="../../res/js/baseUtils.js" charset="utf-8"></script>
</head>
<body>

<div id="header"></div>

<div class="layui-container">
  <div class="layui-row layui-col-space15">
    <div class="layui-col-md8 content detail" id="detail">
    </div>
    <span id="sidebar"></span>
  </div>
</div>

<div id="footer"></div>

<!-- 加载头部和尾部 -->
<script>
  $("#header").load("../header.html");
  $("#footer").load("../footer.html");
  $("#sidebar").load("sidebar.html");
</script>

<script src="../../res/layui/layui.js"></script>

</body>
</html>

<script>
layui.use(['laypage','jquery','laytpl','element'], function(){
    var laytpl = layui.laytpl;
    var getTpl = inspect_detail_tpl.innerHTML //  模板引擎
            ,view = document.getElementById("detail");
    var urlData = GetRequest();
    console.log(urlData);
    var id = urlData["id"];
    var type = urlData["type"];
    var urlPath = "";
    if (type == null || type == 0){
      urlPath = "inform";
    }else if (type == 1){
      urlPath = "sue";
    }else{
      urlPath = "appeal";
    }
    $.ajax({
      //请求方式
      type : "GET",
      //请求地址
      url : path+'/inspect/'+urlPath+'/'+id+'.do',
      datatype:"json",
      //请求成功
      success :function (res) {
        console.log(res);
        laytpl(getTpl).render(res.data, function(html){
          view.innerHTML = html;
        });
      }
    });

})
</script>

<script id="inspect_detail_tpl" type="text/html">
  <div class="fly-panel detail-box">
    <h1>{{d.data.title}}</h1>
    <div class="fly-detail-info">
      <span class="layui-badge layui-bg-red">{{!d.type?null:d.type.title}}</span>
      {{#     if(d.data.process_status == 1){          }}
      | <span class="layui-badge layui-bg-green fly-detail-column">已提交</span>
      {{#     }else if(d.data.process_status == 2){    }}
      |  <span class="layui-badge layui-bg-orange fly-detail-column">已受理</span>
      {{#     }else{                              }}
      |  <span class="layui-badge layui-bg-red fly-detail-column">已完结</span>
      {{#     } }}
    </div>
    <div class="detail-about" style="padding-top: 10px;">
     {{#  if (d.type.tag == 3){ }}
      <span>申诉关联单号:{{ d.data.relation_number}}</span>
      {{# } }}
    </div>
    <div class="detail-body photos">
    {{d.data.detail}}
    </div>
  </div>
</script>